DROP TABLE IF EXISTS messages;

DROP TABLE IF EXISTS users;

CREATE TABLE messages (
  id      BIGINT GENERATED BY DEFAULT AS IDENTITY,
  created TIMESTAMP,
  text    VARCHAR(255),
  user_id BIGINT NOT NULL,
  PRIMARY KEY (id)
);

CREATE TABLE users (
  id       BIGINT GENERATED BY DEFAULT AS IDENTITY,
  name     VARCHAR(255),
  password VARCHAR(255),
  PRIMARY KEY (id)
);

ALTER TABLE messages
  ADD CONSTRAINT fk_messages_user FOREIGN KEY (user_id) REFERENCES users(id);
